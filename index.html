<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chisur Academy ‚Äì Online Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- FAVICON -->
<link rel="icon" type="image/png" href="https://z-cdn-media.chatglm.cn/files/8b065b9e-4ad0-4f5b-8045-fec16cf31498.png?auth_key=1866847330-45a2119c4a6e49faa4820e73cf74556e-0-9052ce34463517cc3bc8511e2b13105c">

<!-- UPGRADE 1: MODERN GOOGLE FONT -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- UPGRADE 2: CONFETTI LIBRARY (Lightweight) -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root {
  --primary: #4f46e5;
  --primary-dark: #4338ca;
  --primary-light: #eef2ff;
  --success: #10b981;
  --danger: #ef4444;
  --warning: #f59e0b;
  /* UPGRADE: Subtle Gradient Background */
  --bg: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  --card-bg: #ffffff;
  --text: #1f2937;
  --border: #e5e7eb;
  --shadow: 0 10px 30px rgba(0,0,0,0.08);
  --shadow-hover: 0 15px 35px rgba(0,0,0,0.12);
}

* { box-sizing: border-box; }

/* UPGRADE: Apply Modern Font Globally */
body {
  font-family: 'Poppins', sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 0;
  min-height: 100vh;
}

/* --- LAYOUT UTILS --- */
.container { max-width: 1400px; margin: 0 auto; padding: 20px; width: 100%; }
.hidden { display: none !important; }
.flex-center { display: flex; align-items: center; justify-content: center; min-height: 100vh; }

/* --- BUTTONS --- */
.btn {
  padding: 12px 24px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-size: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}
.btn-primary { background: var(--primary); color: white; }
.btn-primary:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 6px 12px rgba(79, 70, 229, 0.3); }
.btn-success { background: var(--success); color: white; }
.btn-danger { background: var(--danger); color: white; }
.btn-danger:hover { background: #dc2626; transform: translateY(-2px); }
.btn-outline { background: transparent; border: 2px solid var(--border); color: var(--text); }
.btn-outline:hover { background: #f9fafb; border-color: var(--primary); }
.btn-home { background: white; border: 2px solid var(--danger); color: var(--danger); }
.btn-home:hover { background: var(--danger); color: white; }

/* --- START SCREEN --- */
.start-card {
  background: white;
  padding: 40px;
  border-radius: 24px;
  box-shadow: var(--shadow);
  text-align: center;
  max-width: 500px;
  width: 90%;
  animation: slideUp 0.6s ease-out;
}

/* Universal Logo Styling */
.logo-img {
  max-width: 150px;
  height: auto;
  margin-bottom: 15px;
  object-fit: contain;
}

.start-card h1 { color: var(--primary); margin: 0 0 10px 0; font-size: 2rem; font-weight: 700; }
.input-group { margin: 20px 0; text-align: left; }
.input-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.9rem; }
.input-group input { 
  width: 100%; 
  padding: 15px; 
  border: 2px solid var(--border); 
  border-radius: 12px; 
  font-size: 16px; 
  font-family: 'Poppins', sans-serif;
  transition: border 0.3s;
}
.input-group input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 4px var(--primary-light); }

/* --- EXAM INTERFACE --- */
.exam-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 20px;
  height: calc(100vh - 40px);
}

/* Header */
.exam-header {
  grid-column: 1 / -1;
  background: white;
  padding: 15px 25px;
  border-radius: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: var(--shadow);
  position: sticky;
  top: 10px;
  z-index: 100;
  border-bottom: 3px solid var(--primary-light);
}
.header-left { display: flex; align-items: center; gap: 15px; }
.header-logo { height: 45px; } 
.header-title { font-weight: 700; color: var(--primary); font-size: 1.2rem; letter-spacing: -0.5px; }

.timer-badge {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--primary);
  background: var(--primary-light);
  padding: 8px 20px;
  border-radius: 50px;
  border: 1px solid rgba(79,70,229,0.1);
}
.timer-badge.warning { background: #fffbeb; color: #b45309; border-color: #fcd34d; animation: pulse 1s infinite; }
.timer-badge.danger { background: #fef2f2; color: #b91c1c; border-color: #fca5a5; }

/* Sidebar (Palette) */
.sidebar {
  background: white;
  border-radius: 16px;
  padding: 15px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  height: 100%;
  box-shadow: var(--shadow);
}
.palette-legend { display: flex; gap: 10px; font-size: 12px; margin-bottom: 15px; flex-wrap: wrap; }
.legend-item { display: flex; align-items: center; gap: 5px; font-weight: 600; }
.dot { width: 12px; height: 12px; border-radius: 4px; }

.palette-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
  overflow-y: auto;
}
.p-btn {
  aspect-ratio: 1;
  border: 1px solid var(--border);
  background: white;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  color: #666;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  transition: all 0.2s;
}
.p-btn:active { transform: scale(0.95); }
.p-btn:hover { border-color: var(--primary); color: var(--primary); }
.p-btn.active { border: 2px solid var(--primary); box-shadow: 0 0 0 2px var(--primary-light); }
.p-btn.answered { background: var(--success); color: white; border-color: var(--success); }
.p-btn.review { background: var(--danger); color: white; border-color: var(--danger); }
.p-btn.current { border: 2px solid var(--text); transform: scale(1.1); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }

/* Main Question Area */
.question-area {
  background: white;
  border-radius: 16px;
  padding: 40px;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  position: relative;
  height: 100%;
  box-shadow: var(--shadow);
}
.section-header {
  background: var(--primary);
  color: white;
  padding: 8px 20px;
  border-radius: 8px;
  display: inline-block;
  margin-bottom: 20px;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: 0.5px;
}
.q-text { font-size: 1.25rem; margin-bottom: 25px; line-height: 1.7; font-weight: 500; }
.options-list { list-style: none; padding: 0; margin: 0 0 30px 0; }
.option-item {
  display: flex;
  align-items: center;
  padding: 18px 20px;
  border: 2px solid var(--border);
  border-radius: 12px;
  margin-bottom: 12px;
  cursor: pointer;
  transition: all 0.2s;
  background: white;
}
.option-item:hover { background: #f9fafb; border-color: var(--primary); transform: translateX(5px); }
.option-item input { margin-right: 15px; transform: scale(1.4); accent-color: var(--primary); cursor: pointer; }
.option-item.selected { border-color: var(--primary); background: var(--primary-light); }

/* Footer Navigation */
.nav-controls {
  margin-top: auto;
  border-top: 1px solid var(--border);
  padding-top: 25px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.mark-review-box { display: flex; align-items: center; gap: 10px; margin-top: 15px; font-size: 1rem; font-weight: 500; }
.mark-review-box input { width: 20px; height: 20px; cursor: pointer; }

/* --- RESULTS SCREEN --- */
.results-container { animation: fadeIn 0.6s ease-out; max-width: 800px; margin: 0 auto; }
.result-header { 
  text-align: center; 
  margin-bottom: 30px; 
  background: white; 
  padding: 50px 40px; 
  border-radius: 24px; 
  border-top: 6px solid var(--primary);
  box-shadow: var(--shadow);
}
.score-circle {
  width: 140px; height: 140px;
  background: var(--primary);
  background: linear-gradient(135deg, var(--primary) 0%, #818cf8 100%);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.5rem;
  font-weight: 700;
  margin: 0 auto 20px;
  box-shadow: 0 20px 40px rgba(79, 70, 229, 0.3);
  animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.analytics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
.stat-card { background: white; padding: 25px; border-radius: 16px; border-left: 5px solid var(--primary); box-shadow: var(--shadow); transition: transform 0.3s; }
.stat-card:hover { transform: translateY(-5px); }
.stat-card h3 { margin: 0 0 10px; font-size: 0.9rem; color: #6b7280; font-weight: 500; }
.stat-card .value { font-size: 2rem; font-weight: 700; color: var(--text); }

.review-list { display: grid; gap: 15px; margin-top: 20px; }
.review-item { background: white; padding: 20px; border-radius: 12px; border-left: 5px solid #ccc; font-size: 0.95rem; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
.review-item.correct { border-color: var(--success); }
.review-item.incorrect { border-color: var(--danger); }
.review-header { font-weight: 600; margin-bottom: 8px; display: flex; justify-content: space-between; }

.history-section { 
  margin-top: 50px; 
  background: white; 
  padding: 30px; 
  border-radius: 20px; 
  box-shadow: var(--shadow);
}
.history-header {
  display: flex; 
  align-items: center; 
  gap: 10px; 
  margin-bottom: 20px; 
  border-bottom: 2px solid #eee;
  padding-bottom: 15px;
  flex-wrap: wrap;
}
.history-logo { height: 35px; }

table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 15px; }
th, td { padding: 15px; text-align: left; border-bottom: 1px solid var(--border); }
th { background: #f9fafb; font-weight: 600; color: #6b7280; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; }
tr.current-user-row { background: #eff6ff; font-weight: 600; border-radius: 8px; }

/* --- MODAL STYLES --- */
.modal-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.5); backdrop-filter: blur(4px);
  display: flex; align-items: center; justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease;
}
.modal-content {
  background: white; padding: 30px; border-radius: 16px;
  width: 90%; max-width: 400px; text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,0.2);
  transform: scale(0.9);
  animation: popIn 0.3s forwards;
}
.modal-content h3 { margin-top: 0; color: var(--primary); }
.modal-content p { color: #555; margin-bottom: 25px; line-height: 1.5; }
.modal-btn {
  background: var(--primary); color: white; border: none;
  padding: 10px 25px; border-radius: 8px; font-weight: 600;
  cursor: pointer; font-family: inherit;
}

/* Password Input Style */
.password-input {
  width: 100%;
  padding: 12px;
  margin: 15px 0 25px;
  border: 2px solid var(--border);
  border-radius: 8px;
  font-size: 16px;
  font-family: inherit;
}
.password-input:focus {
  border-color: var(--primary);
  outline: none;
}

/* Animations */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }

/* ================= RESPONSIVE MOBILE DESIGN ================= */
@media (max-width: 900px) {
  .exam-layout { 
    grid-template-columns: 1fr; 
    grid-template-rows: auto auto 1fr auto; 
    height: auto; 
    gap: 15px;
  }
  .sidebar { 
    order: 2; 
    max-height: none; 
    padding: 15px;
  }
  .palette-grid {
    display: flex;
    overflow-x: auto;
    gap: 10px;
    padding-bottom: 5px;
  }
  .p-btn {
    min-width: 50px;
    height: 50px;
    flex-shrink: 0;
  }
  .question-area {
    order: 3;
    height: auto;
    min-height: 400px;
  }
  .nav-controls {
    position: sticky;
    bottom: 0;
    background: white;
    border-top: 1px solid var(--border);
    z-index: 50;
    padding-bottom: 20px;
    box-shadow: 0 -4px 10px rgba(0,0,0,0.05);
    border-radius: 16px 16px 0 0;
  }
  .header-left { gap: 10px; }
  .header-title { font-size: 1rem; }
  .logo-img { height: 60px; } 
  
  /* Mobile Table Fix */
  table, thead, tbody, th, td, tr { 
    display: block; 
  }
  thead tr { 
    position: absolute;
    top: -9999px;
    left: -9999px;
  }
  tr { 
    border: 1px solid #ccc;
    margin-bottom: 15px; 
    border-radius: 8px; 
    padding: 10px;
  }
  td { 
    border: none;
    position: relative;
    padding-left: 50%; 
    text-align: right;
  }
  td:before { 
    position: absolute;
    top: 12px;
    left: 10px;
    width: 45%; 
    padding-right: 10px; 
    white-space: nowrap;
    text-align: left;
    font-weight: bold;
    color: #666;
    content: attr(data-label); 
  }
  tr.current-user-row { background: #eff6ff; }
}
</style>
</head>
<body>

<!-- ================= START SCREEN ================= -->
<div id="startScreen" class="flex-center">
  <div class="start-card">
    <img src="https://z-cdn-media.chatglm.cn/files/8b065b9e-4ad0-4f5b-8045-fec16cf31498.png?auth_key=1866847330-45a2119c4a6e49faa4820e73cf74556e-0-9052ce34463517cc3bc8511e2b13105c" alt="Chisur Academy Logo" class="logo-img">
    
    <h1>Chisur Academy</h1>
    <p style="color: #666; font-weight: 500;">Online Mock Test</p>
    
    <div class="input-group">
      <label>Enter Full Name</label>
      <input type="text" id="studentName" placeholder="e.g. John Doe" autocomplete="off">
    </div>
    
    <div style="font-size: 0.9rem; color: #666; margin-bottom: 25px; text-align: left; background: #f9fafb; padding: 15px; border-radius: 8px;">
      <b>Instructions:</b><br>
      ‚Ä¢ Total Questions: 150<br>
      ‚Ä¢ Time Limit: 120 Minutes<br>

    </div>
    
    <button class="btn btn-primary" onclick="startExam()" style="width: 100%;">Start Quiz</button>
  </div>
</div>

<!-- ================= EXAM SCREEN ================= -->
<div id="examScreen" class="container hidden" style="padding-top: 10px;">
  <div class="exam-layout">
    
    <!-- Header -->
    <header class="exam-header">
      <div class="header-left">
        <img src="https://z-cdn-media.chatglm.cn/files/8b065b9e-4ad0-4f5b-8045-fec16cf31498.png?auth_key=1866847330-45a2119c4a6e49faa4820e73cf74556e-0-9052ce34463517cc3bc8511e2b13105c" alt="Logo" class="header-logo">
        <div>
          <div class="header-title">Chisur Academy</div>
          <div style="font-size: 0.8rem; color: #666; font-weight: 500;">NAME: <span id="displayCandidateName">Student</span></div>
        </div>
      </div>
      <div id="timerDisplay" class="timer-badge">120:00</div>
    </header>

    <!-- Sidebar Palette -->
    <aside class="sidebar">
      <div class="palette-legend">
        <div class="legend-item"><div class="dot" style="border:1px solid #ccc"></div>Current</div>
        <div class="legend-item"><div class="dot" style="background:var(--success)"></div>Ans</div>
        <div class="legend-item"><div class="dot" style="background:var(--danger)"></div>Review</div>
      </div>
      <div class="palette-grid" id="paletteGrid"></div>
      <button class="btn btn-primary" style="margin-top: 20px; width: 100%; font-size: 14px;" onclick="submitExam()">Submit Exam</button>
    </aside>

    <!-- Question Area -->
    <main class="question-area">
      <div id="sectionTitle" class="section-header">PART-A</div>
      <div id="questionText" class="q-text">Loading...</div>
      <div class="options-list" id="optionsContainer"></div>

      <div class="mark-review-box">
        <label style="cursor: pointer; display: flex; align-items: center; gap: 8px;">
          <input type="checkbox" id="markReview" onchange="toggleReview()">
          Mark for Review
        </label>
      </div>

      <div class="nav-controls">
        <div class="nav-buttons" style="display: flex; gap: 10px; width: 100%;">
          <button class="btn btn-outline" id="btnPrev" onclick="navigate(-1)" style="flex:1;">Previous</button>
          <button class="btn btn-primary" id="btnNext" onclick="navigate(1)" style="flex:1;">Next</button>
        </div>
      </div>
    </main>
  </div>
</div>

<!-- ================= RESULTS SCREEN ================= -->
<div id="resultsScreen" class="container hidden" style="padding-top: 30px;">
  <div class="results-container">
    
    <!-- Results Header -->
    <div class="result-header">
      <img src="https://z-cdn-media.chatglm.cn/files/8b065b9e-4ad0-4f5b-8045-fec16cf31498.png?auth_key=1866847330-45a2119c4a6e49faa4820e73cf74556e-0-9052ce34463517cc3bc8511e2b13105c" alt="Chisur Academy Logo" style="width:100px; margin-bottom:15px;">
      <h2 style="margin-top:0;">Chisur Academy<br><span style="font-size:1rem; color:#666; font-weight:normal;">Exam Results Report</span></h2>
      
      <div class="score-circle">
        <span id="finalScoreCircle">0</span>%
      </div>
      <p id="resultMsg" style="font-weight: 500; color: #666;">Calculation based on 150 Questions.</p>
    </div>

    <!-- Analytics Cards -->
    <div class="analytics-grid" id="analyticsGrid"></div>

    <!-- Action Buttons -->
    <div style="text-align: center; margin-bottom: 30px; display: flex; gap: 10px; justify-content: center;">
      <button class="btn btn-outline" onclick="location.reload()">Take Again</button>
      <button class="btn btn-primary" onclick="document.getElementById('fullReview').scrollIntoView({behavior:'smooth'})">View Key</button>
    </div>

    <!-- Detailed Answer Key -->
    <div id="fullReview">
      <h3 style="margin-bottom: 20px; color: var(--text);">Detailed Answer Key</h3>
      <div class="review-list" id="reviewListContainer"></div>
    </div>

    <!-- History Stats -->
    <div class="history-section">
      <div class="history-header">
        <img src="https://z-cdn-media.chatglm.cn/files/8b065b9e-4ad0-4f5b-8045-fec16cf31498.png?auth_key=1866847330-45a2119c4a6e49faa4820e73cf74556e-0-9052ce34463517cc3bc8511e2b13105c" alt="Logo" class="history-logo">
        <h3 style="margin:0; font-weight: 700;">History & Statistics</h3>
        
        <!-- PROTECTED CLEAR BUTTON -->
        <button class="btn btn-danger" onclick="initiateClearHistory()" style="margin-left: auto; font-size: 0.85rem; padding: 8px 15px;">
          üóëÔ∏è Clear History
        </button>
      </div>
      
      <!-- UPDATED TABLE: Added Date & Time Column -->
      <table>
        <thead>
          <tr>
            <th>Rank</th>
            <th>Name</th>
            <th>Score</th>
            <th>Date & Time</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="historyTableBody"></tbody>
      </table>

      <!-- ================= BACK TO HOME BUTTON ================= -->
      <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
        <button class="btn btn-home" onclick="location.reload()" style="width: 200px;">
          &larr; Back to Home
        </button>
      </div>
    </div>

  </div>
</div>

<!-- ALERT MODAL (For Messages) -->
<div id="customModal" class="modal-overlay hidden">
  <div class="modal-content">
    <h3 id="modalTitle">Alert</h3>
    <p id="modalMessage">Message goes here.</p>
    <button class="modal-btn" onclick="closeModal()">Got it</button>
  </div>
</div>

<!-- PASSWORD MODAL (For Clearing History) -->
<div id="passwordModal" class="modal-overlay hidden">
  <div class="modal-content">
    <h3>Admin Verification</h3>
    <p style="font-size: 0.9rem; color: #666;">Please enter the password to delete all student records.</p>
    <input type="password" id="adminPasswordInput" class="password-input" placeholder="Enter Password" onkeypress="handleEnter(event)">
    <div style="display:flex; gap:10px; justify-content:center;">
        <button class="btn btn-danger" onclick="checkPassword()">Verify</button>
        <button class="btn btn-outline" onclick="closePasswordModal()">Cancel</button>
    </div>
  </div>
</div>

<script>
/* ================= CONFIG & DATA ================= */
// YOU CAN CHANGE THE PASSWORD HERE
const ADMIN_PASSWORD = "fizzOZ@12345"; 

const correctAnswers = {
  q1:"C", q2:"B", q3:"A", q4:"B", q5:"C", q6:"A", q7:"B", q8:"D", q9:"C", q10:"A",
  q11:"B", q12:"C", q13:"A", q14:"D", q15:"B", q16:"C", q17:"A", q18:"B", q19:"D", q20:"C",
  q21:"A", q22:"B", q23:"C", q24:"D", q25:"A", q26:"B", q27:"C", q28:"A", q29:"D", q30:"B",
  q31:"C", q32:"A", q33:"B", q34:"D", q35:"C", q36:"A", q37:"B", q38:"C", q39:"D", q40:"A",
  q41:"B", q42:"C", q43:"A", q44:"D", q45:"B", q46:"C", q47:"A", q48:"D", q49:"B", q50:"C",
  q51:"A", q52:"B", q53:"D", q54:"C", q55:"A", q56:"B", q57:"C", q58:"D", q59:"A", q60:"B",
  q61:"C", q62:"A", q63:"B", q64:"D", q65:"C", q66:"A", q67:"B", q68:"C", q69:"D", q70:"A",
  q71:"B", q72:"C", q73:"A", q74:"D", q75:"B", q76:"C", q77:"A", q78:"B", q79:"D", q80:"C",
  q81:"A", q82:"B", q83:"C", q84:"D", q85:"A", q86:"B", q87:"C", q88:"A", q89:"D", q90:"B",
  q91:"B", q92:"C", q93:"A", q94:"D", q95:"B", q96:"C", q97:"A", q98:"B", q99:"D", q100:"C",
  q101:"A", q102:"B", q103:"C", q104:"D", q105:"A", q106:"B", q107:"C", q108:"A", q109:"D", q110:"B",
  q111:"C", q112:"A", q113:"B", q114:"D", q115:"C", q116:"A", q117:"B", q118:"C", q119:"D", q120:"A",
  q121:"B", q122:"C", q123:"A", q124:"D", q125:"B", q126:"C", q127:"A", q128:"B", q129:"D", q130:"C",
  q131:"A", q132:"B", q133:"C", q134:"D", q135:"A", q136:"B", q137:"C", q138:"A", q139:"D", q140:"B",
  q141:"C", q142:"A", q143:"B", q144:"D", q145:"C", q146:"A", q147:"B", q148:"C", q149:"D", q150:"A"
};

const specificQuestions = {
  q1: {
    t: 'Choose the correct article combination : "After ___ hour-long meeting, we finally reached ___ conclusion that ___ solution was ___ best possible one."',
    o: [
      "an, a, a, the",
      "a, the, the, the",
      "an, the, the, the",
      "the, a, a, the"
    ]
  },

  q2: {
    t: "Which sentence uses the definite article correctly?",
    o: [
      "The happiness is something everyone seeks.",
      "I saw the man you were talking about yesterday.",
      "She loves the chocolates, but I prefer a fruit.",
      "He went to the prison to visit his friend who is a prisoner."
    ]
  },

  q3: {
    t: "Which sentence has correct subject-verb agreement?",
    o: [
      "Either the manager or his assistants is responsible for the error.",
      "Neither the books nor the magazine were returned on time.",
      "The committee are divided in their opinions.",
      "A group of tourist was taking photos near the monument."
    ]
  },

  q4: {
    t: "Identify the incorrect sentence.",
    o: [
      "Ten miles is a long distance to walk.",
      "Physics have always been my favourite subject.",
      "The data shows a significant trend.",
      "Bread and butter is his usual breakfast."
    ]
  },

  q5: {
    t: 'Identify the correct exclamatory transformation : "It was a very thrilling match."',
    o: [
      "What a thrilling match it was!",
      "How thrilling a match was!",
      "What thrilling match it was!",
      "How a thrilling match it was!"
    ]
  },

  q6: {
    t: "Which sentence correctly uses the present perfect tense?",
    o: [
      "I finish my homework.",
      "I have finished my homework.",
      "I was finishing my homework.",
      "I had finished my homework."
    ]
  },

  q7: {
    t: "Which sentence shows that one action was completed before another in the past?",
    o: [
      "He eats dinner when I arrive.",
      "He was eating dinner when I arrived.",
      "He had eaten dinner before I arrived.",
      "He will eat dinner before I arrive."
    ]
  },

  q8: {
    t: "What does 'figure out' mean?",
    o: [
      "To calculate a number",
      "To understand or solve something",
      "To draw a figure",
      "To look at something"
    ]
  },

  q9: {
    t: "What does 'called off' mean in the sentence: 'They called off the meeting.'?",
    o: [
      "Postponed",
      "Continued",
      "Cancelled",
      "Started"
    ]
  },

  q10: {
    t: "Which sentence uses the preposition incorrectly?",
    o: [
      "She has an innate talent for playing the piano.",
      "His insistence on punctuality borders on obsession.",
      "The lawyers argued on defendant's behalf.",
      "We were all surprised in his sudden resignation."
    ]
  },

  q11: {
    t: "Which modal verb shows obligation or necessity?",
    o: [
      "Could",
      "May",
      "Must",
      "Might"
    ]
  },

  q12: {
    t: 'Identify the correct direct-to-indirect transformation : She said, "I might visit Japan next summer."',
    o: [
      "She said she might visit Japan the following summer.",
      "She said she may visit Japan next summer.",
      "She said she would visit Japan next summer.",
      "She said she might be visiting Japan next summer."
    ]
  },

  q13: {
    t: 'Which pair completes the sentence correctly? "___ my brother ___ my sister knows how to cook."',
    o: [
      "Either / or",
      "Neither / nor",
      "Both / and",
      "Not only / but also"
    ]
  },

  q14: {
    t: "Which sentence uses correlatives incorrectly?",
    o: [
      "She wants either tea or coffee.",
      "He likes neither apples nor oranges.",
      "They visited both Paris and London.",
      "Not only she sings but also dances."
    ]
  },

  q15: {
    t: 'Identify the grammatically correct version : "Not only she wrote the screenplay but also directed the film."',
    o: [
      "Not only she wrote the screenplay but also directed the film.",
      "Not only did she write the screenplay but also directed the film.",
      "Not only did she write the screenplay but she also directed the film.",
      "Not only wrote she the screenplay but also directed the film."
    ]
  },

  q16: {
    t: 'Choose the correct revision : "Each of the candidates have submitted their portfolios."',
    o: [
      "Each candidate have submitted their portfolios.",
      "Each of the candidates has submitted their portfolio.",
      "Each of the candidates has submitted his or her portfolio.",
      "Each candidates have submitted their portfolios."
    ]
  },

  q17: {
    t: 'Identify the active voice of: "The manuscript is believed to have been written by a 16th century scholar."',
    o: [
      "A 16th century scholar is believed to write the manuscript.",
      "People believe that a 16th century scholar wrote the manuscript.",
      "A 16th century scholar wrote the manuscript, people believe.",
      "The manuscript was written by a 16th century scholar, it is believed."
    ]
  },

  q18: {
    t: 'Which passive sentence keeps the same meaning? "The discovery of penicillin revolutionized modern medicine."',
    o: [
      "Modern medicine was revolutionized by the discovery of penicillin.",
      "Modern medicine revolutionized the discovery of penicillin.",
      "The discovery of penicillin was revolutionized by modern medicine.",
      "Modern medicine had been revolutionized by the discovery of penicillin."
    ]
  },

  q19: {
    t: "Which sentence demonstrates the correct use of the superlative degree?",
    o: [
      "She is the most tallest player on the team.",
      "This is the least interesting of all the proposals.",
      "He is elder than his brother by two years.",
      "Of the twins, Maya is the most oldest."
    ]
  },

  q20: {
    t: "Identify the grammatically incorrect comparative form.",
    o: [
      "The results were less satisfactory than we expected.",
      "Her explanation was further from the truth than his.",
      "This fabric feels more softer than silk.",
      "His approach is more conservative than hers."
    ]
  },

  q21: {
    t: "Which of the following compound words is written incorrectly?",
    o: [
      "Mother-in-law",
      "Well-being",
      "Note-book",
      "Self-esteem"
    ]
  },

  q22: {
    t: "Choose the sentence that uses a hyphenated compound word correctly.",
    o: [
      "She has a part time-job.",
      "He is a well-known artist.",
      "They live in a two storey-house.",
      "It was a lastminute-decision."
    ]
  },

  q23: {
    t: 'Which word means "a person who loves books and collects them"?',
    o: [
      "Bibliophile",
      "Lexicographer",
      "Philologist",
      "Logophile"
    ]
  },

  q24: {
    t: 'Which idiom fits the context? "After years of rivalry, they finally ___ and collaborated on the project."',
    o: [
      "turned over a new leaf",
      "buried the hatchet",
      "let the cat out of the bag",
      "jumped on the bandwagon"
    ]
  },

  q25: {
    t: "Which word does NOT belong as a synonym for 'fastidious'?",
    o: [
      "Meticulous",
      "Finicky",
      "Lackadaisical",
      "Punctilious"
    ]
  },

  q26: {
    t: 'Select the most precise synonym for "sagacious": "Her ___ advice saved the company from bankruptcy."',
    o: [
      "shrewd",
      "verbose",
      "garrulous",
      "loquacious"
    ]
  },

  q27: {
    t: "Which word is the most precise antonym of 'ephemeral'?",
    o: [
      "Fleeting",
      "Enduring",
      "Transient",
      "Momentary"
    ]
  },

  q28: {
    t: "Which word is NOT a true antonym of 'prolific'?",
    o: [
      "Barren",
      "Fecund",
      "Sterile",
      "Unproductive"
    ]
  },

  q29: {
    t: 'Which word correctly completes the sentence? "The CEO\'s ___ remarks failed to address the employees\' concerns."',
    o: [
      "disinterested",
      "uninterested",
      "misinterested",
      "noninterested"
    ]
  },

  q30: {
    t: 'Choose the correct word: "The effects of the medication were worse than the disease."',
    o: [
      "adverse",
      "averse",
      "adversity",
      "aversive"
    ]
  },

  q31: {
    t: "Which foreign phrase means 'an existing condition'?",
    o: [
      "Sine die",
      "Status quo",
      "Prima facie",
      "Pro bono"
    ]
  },

  q32: {
    t: "The term 'd√©j√† vu' is properly applied when",
    o: [
      "experiencing something entirely new",
      "feeling an inexplicable familiarity",
      "recalling a childhood memory",
      "anticipating a future event"
    ]
  },

  q33: {
    t: "Choose the sentence with the incorrect collective noun usage.",
    o: [
      "A parliament of owls sat high in the trees.",
      "A shrewdness of apes shuffled across the jungle floor.",
      "A shiver of sharks swam past the coral reef.",
      "A murder of ravens flew through the sky."
    ]
  },

  q34: {
    t: "Choose the correct phrasal verb: 'The professor explained in detail the theory's flaws.'",
    o: [
      "pointed out",
      "spelled out",
      "talked over",
      "gave away"
    ]
  },

  q35: {
    t: "Identify the correctly spelled word.",
    o: [
      "Conscientious",
      "Consciencious",
      "Concientious",
      "Conshientious"
    ]
  },

  q36: {
    t: "The abbreviation 'e.g.' stands for",
    o: [
      "exempli gratia",
      "et cetera",
      "ex gratia",
      "ergo gratia"
    ]
  },

  q37: {
    t: 'Choose the correct plural form: "several ___ attended the conference."',
    o: [
      "Attorney-Generals",
      "Attorneys-General",
      "Attorney Generals",
      "Attorneys Generals"
    ]
  },

  q38: {
    t: "The prefix 'pan-' means",
    o: [
      "against",
      "all",
      "half",
      "beyond"
    ]
  },

  q39: {
    t: "Which word pair shows a suffix changing a noun to a verb?",
    o: [
      "Child ‚Üí Childhood",
      "Dark ‚Üí Darken",
      "Joy ‚Üí Joyous",
      "Theory ‚Üí Theoretical"
    ]
  },

  q40: {
    t: "Which sentence uses a gender-inclusive pronoun correctly?",
    o: [
      "Each student must submit their own assignment.",
      "The doctor finished his rounds.",
      "A good writer always revises his work.",
      "The manager should ask for the feedback herself."
    ]
  },

  q41: {
    t: "The Parliament passed the North-Eastern Areas (Reorganization) Act, which conferred full Statehood on the autonomous State of Meghalaya, in",
    o: ["1971", "1972", "1975", "1978"]
  },

  q42: {
    t: "Which is the Meghalaya State Tree?",
    o: ["Hollong", "Sacred fig", "White teak", "Ironwood"]
  },

  q43: {
    t: "In which year was the East Garo Hills District formed?",
    o: ["1976", "1980", "1992", "2010"]
  },

  q44: {
    t: "The area of Meghalaya State is",
    o: ["20429 sq. km", "22429 sq. km", "30400 sq. km", "None of the above"]
  },

  q45: {
    t: "Mawsmai Falls is located in",
    o: ["Sohiong", "Mawpat", "Ranikor", "Cherrapunjee"]
  },

  q46: {
    t: "Out of nine important vegetation types of India, how many are found in the North-Eastern region?",
    o: ["6", "7", "8", "9"]
  },

  q47: {
    t: "How many caves have been discovered near Syndai till date?",
    o: ["10", "11", "12", "15"]
  },

  q48: {
    t: "Which battle resulted in the defeat and annexation of the Jaintia Kingdom by the British?",
    o: ["Battle of Nongkhlaw", "Battle of Mawkyrwat", "Battle of Cherrapunjee", "Battle of Raliang"]
  },

  q49: {
    t: "Which traditional institution acts as the governing body in many Khasi villages of Meghalaya?",
    o: ["Dorbar Shnong", "Garo Nokma", "Hima Syiem", "Jaintia Doloi"]
  },

  q50: {
    t: "Which cave in Meghalaya is the longest cave system in India?",
    o: ["Krem Mawmluh", "Krem Lymput", "Mawsmai Cave", "Liat Prah Cave"]
  },

  q51: {
    t: "Which river primarily forms the main drainage system of the Garo Hills in Meghalaya?",
    o: ["Jinjiram", "Simsang", "Daring", "Brahmaputra"]
  },

  q52: {
    t: "Nalanda University was a great centre of learning, especially in",
    o: ["Buddhism", "Jainism", "Vaishnavism", "Tantra"]
  },

  q53: {
    t: "The gold coins were introduced first in India by the",
    o: ["Kushanas", "Greeks", "Sakas", "Parthians"]
  },

  q54: {
    t: "Which of the following Vedas provides information about the civilization of the Early Vedic Age?",
    o: ["Rigveda", "Yajurveda", "Atharvaveda", "Samaveda"]
  },

  q55: {
    t: "Hiuen Tsang visited India during the reign of",
    o: ["Chandragupta I", "Chandragupta II", "Harshavardhana", "Rudradaman"]
  },

  q56: {
    t: "Which one of the following Indus Valley sites is in Pakistan?",
    o: ["Lothal", "Kalibangan", "Alamgirpur", "Harappa"]
  },

  q57: {
    t: "Which of the following Indian beaches is not formed by the Arabian Sea?",
    o: ["Varkala Beach", "Kovalam Beach", "Radhanagar Beach", "Palolem Beach"]
  },

  q58: {
    t: "Which State has the largest area in India?",
    o: ["Uttar Pradesh", "Madhya Pradesh", "Maharashtra", "Rajasthan"]
  },

  q59: {
    t: "Which State recorded the lowest literacy rate in the 2011 Census?",
    o: ["Bihar", "Maharashtra", "Arunachal Pradesh", "Kerala"]
  },

  q60: {
    t: "Sri Lanka is separated from India by",
    o: ["Strait of Malacca", "Strait of Gibraltar", "Palk Strait", "Bering Strait"]
  },

  q61: {
    t: "The landforms created by massive earth movements due to plate tectonics are called",
    o: ["Structural landforms", "Weathering landforms", "Erosional landforms", "Depositional landforms"]
  },

  q62: {
    t: "With which sector is the agency short-named as CIBIL associated?",
    o: ["Insurance sector", "Automobile sector", "Banking sector", "Sugar sector"]
  },

  q63: {
    t: "Which one of the following is not a clause of the World Trade Organization?",
    o: [
      "Lowering trade barriers",
      "Most favoured nation treatment",
      "Providing financial support to BOP deficit countries",
      "Discouraging unfair trade practices"
    ]
  },

  q64: {
    t: "The views of economist Robert Malthus on population are",
    o: ["Pessimistic", "Optimistic", "Both A and B", "None"]
  },

  q65: {
    t: "The main economic problem faced by all societies is",
    o: ["Unemployment", "Scarcity", "Inequality", "Poverty"]
  },

  q66: {
    t: "A firm under perfect competition is a",
    o: ["Price maker", "Price breaker", "Price taker", "Price shaker"]
  },

  q67: {
    t: "At present, the total number of Articles in the Indian Constitution is",
    o: ["356", "395", "404", "448"]
  },

  q68: {
    t: "The Union Budget is always presented first in the",
    o: ["Lok Sabha", "Rajya Sabha", "Joint Session", "Union Cabinet"]
  },

  q69: {
    t: "The Constitution of India borrowed the scheme of Indian Federation from the Constitution of",
    o: ["USA", "Canada", "UK", "Ireland"]
  },

  q70: {
    t: "Right to Property was removed from the list of Fundamental Rights during the rule of",
    o: ["Indira Gandhi", "Morarji Desai", "Narasimha Rao", "Vajpayee"]
  },

  q71: {
    t: "The Indian Cyber Crime Coordination Centre (I4C) functions under which Ministry?",
    o: ["Home Affairs", "Defence", "Science & Technology", "Electronics & IT"]
  },

  q72: {
    t: "Which programming language is known for its use in data analysis?",
    o: ["HTML", "Python", "Assembly", "SQL"]
  },

  q73: {
    t: "Which key is used to refresh a web page?",
    o: ["F1", "F5", "F12", "Ctrl"]
  },

  q74: {
    t: "What is adware?",
    o: ["Malware displaying ads", "Ad creation software", "Database software", "Network protocol"]
  },

  q75: {
    t: "What is a firewall's primary function?",
    o: ["Store data", "Increase speed", "Protect network", "Run apps"]
  },

  q76: {
    t: "Which Internet Protocol is used for secure data transfer?",
    o: ["HTTP", "HTTPS", "FTP", "SMTP"]
  },

  q77: {
    t: "Which of the following are planetary storms?",
    o: [
      "Jupiter‚Äôs Great Red Spot",
      "Solar flare",
      "Saturn‚Äôs Great White Spot",
      "Both A and C"
    ]
  },

  q78: {
    t: "The Government launched a nasal foreign body removal device developed by InnAccel Technologies called",
    o: ["Noxeno", "Nasaleno", "Eleno", "Nozeno"]
  },

  q79: {
    t: "Researchers have discovered a way to make an artificial muscle for which organ?",
    o: ["Liver", "Kidney", "Heart", "Lungs"]
  },

  q80: {
    t: "Which of the following are drought-resistant plants?",
    o: ["Succulents", "Aloe vera", "Cacti", "All of the above"]
  },

  q81: {
    t: "Which bird can fly 800 km in a single day with occasional flaps of its 11-feet wings?",
    o: ["Wandering albatross", "Pelican"]
  },

  q82: {
    t: "Which Government scheme approved in July 2025 aims to improve agriculture in low-productivity districts?",
    o: [
      "PM Krishi Samriddhi Yojana",
      "Dhan-Vikas Gramin Krishi Yojana",
      "PM Dhan-Dhaanya Krishi Yojana",
      "Kisan Utthan Abhiyan"
    ]
  },

  q83: {
    t: "In July 2025, Prime Minister Narendra Modi was conferred which civilian honour by Brazil?",
    o: [
      "Order of the Star of Africa",
      "Grand Collar of the Southern Cross",
      "Order of the Condor",
      "Order of Rio Branco"
    ]
  },

  q84: {
    t: "When is Statistics Day celebrated in India?",
    o: ["July 15", "June 21", "June 29", "July 1"]
  },

  q85: {
    t: "Who is the current and 14th Dalai Lama?",
    o: ["Lobsang Sangay", "Tenzin Gyatso", "Penpa Tsering", "None of them"]
  },

  q86: {
    t: "Who announced the ceasefire between Iran and Israel on 23rd June 2025?",
    o: ["Joe Biden", "Benjamin Netanyahu", "Donald Trump", "Abbas Araghchi"]
  },

  q87: {
    t: "In July 2025, Prime Minister Narendra Modi was conferred which civilian honour by Brazil?",
    o: [
      "The Order of the Star of Africa",
      "The Grand Collar of the National Order of the Southern Cross",
      "The Order of the Condor of the Andes",
      "The Order of Rio Branco"
    ]
  },

  q88: {
    t: "When is the Statistics Day celebrated in India?",
    o: ["July 15", "June 21", "June 29", "July 1"]
  },

  q89: {
    t: "Who is the current and 14th Dalai Lama?",
    o: ["Lobsang Sangay", "Tenzin Gyatso", "Penpa Tsering", "None of them"]
  },

  q90: {
    t: "Who announced the ceasefire between Iran and Israel on 23rd June, 2025?",
    o: ["Joe Biden", "Benjamin Netanyahu", "Donald Trump", "Abbas Araghchi"]
  },


  q91: {
    t: "The value of a machine depreciates at the rate of 10% every year. It was purchased 3 years ago. If its present value is ‚Çπ 8,748, its purchase price was",
    o: ["‚Çπ 10,000", "‚Çπ 12,000", "‚Çπ 14,000", "‚Çπ 16,000"]
  },

  q92: {
    t: "What will be the compound interest on a sum of ‚Çπ 25,000 after 3 years at the rate of 12% p.a.?",
    o: ["‚Çπ 9,000.30", "‚Çπ 9,720", "‚Çπ 10,123.20", "‚Çπ 10,483.20"]
  },

  q93: {
    t: "The average of five numbers is 20. If each number is multiplied by 2, what will be the new average?",
    o: ["30", "40", "50", "60"]
  },

  q94: {
    t: "If a ‚àí b = 3 and a¬≤ + b¬≤ = 29, find the value of ab.",
    o: ["10", "12", "15", "18"]
  },

  q95: {
    t: "One-third of Rahul's savings in NSC is equal to one-half of his savings in PPF. If his total savings are ‚Çπ 1,50,000, how much has he saved in PPF?",
    o: ["‚Çπ 30,000", "‚Çπ 50,000", "‚Çπ 60,000", "‚Çπ 90,000"]
  },

  q96: {
    t: "Find the next number in the series: 2, 6, 12, 20, ?",
    o: ["28", "30", "32", "36"]
  },

  q97: {
    t: "If A is the brother of B and B is the sister of C, then how is A related to C?",
    o: ["Brother", "Cousin", "Uncle", "Cannot be determined"]
  },

  q98: {
    t: "In a certain code, CAT is written as DBU. How is DOG written in the same code?",
    o: ["EPH", "EOH", "DPQ", "EPJ"]
  },

  q99: {
    t: "What is the angle between the hour hand and minute hand of a clock at 3:30?",
    o: ["45¬∞", "52.5¬∞", "60¬∞", "75¬∞"]
  },

  q100: {
    t: "If the cost price of an article is ‚Çπ 800 and it is sold at a profit of 15%, find the selling price.",
    o: ["‚Çπ 900", "‚Çπ 920", "‚Çπ 940", "‚Çπ 960"]
  },

  q101: {
    t: "Find the missing number in the series: 5, 10, 20, 40, ?",
    o: ["60", "70", "80", "100"]
  },

  q102: {
    t: "If the ratio of ages of A and B is 4 : 5 and B is 10 years older than A, what is the age of A?",
    o: ["20 years", "30 years", "40 years", "50 years"]
  },

  q103: {
    t: "If 15 workers can complete a work in 20 days, how many days will 10 workers take to complete the same work?",
    o: ["25 days", "30 days", "35 days", "40 days"]
  },

  q104: {
    t: "In a certain code, PEN is written as QFO. How is CAT written in the same code?",
    o: ["DBU", "DCT", "EBU", "DZU"]
  },

  q105: {
    t: "A man walks 10 m towards north, then turns right and walks 5 m. What is his distance from the starting point?",
    o: ["5 m", "10 m", "‚àö125 m", "15 m"]
  },

  q106: {
    t: "What will be the simple interest on ‚Çπ 5,000 at 10% per annum for 2 years?",
    o: ["‚Çπ 500", "‚Çπ 800", "‚Çπ 1,000", "‚Çπ 1,200"]
  },

  q107: {
    t: "Find the odd one out: 2, 6, 12, 20, 30",
    o: ["6", "12", "20", "30"]
  },

  q108: {
    t: "If today is Monday, what day will it be after 61 days?",
    o: ["Tuesday", "Wednesday", "Thursday", "Friday"]
  },

  q109: {
    t: "A train travels 360 km at a speed of 60 km/h. How long will it take?",
    o: ["5 hours", "6 hours", "7 hours", "8 hours"]
  },

  q110: {
    t: "If x : y = 3 : 4 and y : z = 8 : 9, find x : z.",
    o: ["2 : 3", "3 : 8", "6 : 9", "9 : 16"]
  },

  q111: {
    t: "Which number should come next: 1, 4, 9, 16, ?",
    o: ["20", "25", "30", "36"]
  },

  q112: {
    t: "A shopkeeper gains 20% by selling an article at ‚Çπ 600. Find the cost price.",
    o: ["‚Çπ 480", "‚Çπ 500", "‚Çπ 520", "‚Çπ 550"]
  },

  q113: {
    t: "If SOUTH is written as 84678, how is NORTH written?",
    o: ["67248", "67428", "67284", "67824"]
  },

  q114: {
    t: "How many sides does a decagon have?",
    o: ["8", "9", "10", "12"]
  },

  q115: {
    t: "The average age of 5 persons is 30 years. If one person is replaced, the average becomes 32 years. What is the difference in ages?",
    o: ["5 years", "8 years", "10 years", "12 years"]
  },

  q116: {
    t: "If 3x + 7 = 28, find the value of x.",
    o: ["5", "6", "7", "8"]
  },

  q117: {
    t: "Which of the following is NOT a prime number?",
    o: ["17", "19", "21", "23"]
  },

  q118: {
    t: "If the perimeter of a square is 40 cm, what is its area?",
    o: ["100 sq cm", "121 sq cm", "144 sq cm", "160 sq cm"]
  },

  q119: {
    t: "If the letters of the word INDIA are rearranged, which letter will be in the middle?",
    o: ["I", "N", "D", "A"]
  },

  q120: {
    t: "How many terms are there in the arithmetic progression: 2, 5, 8, ..., 62?",
    o: ["20", "21", "22", "23"]
  },

  q121: { t: "How many whole numbers between 100 and 800 contain the digit 2?", o: ["200", "240", "220", "274"] },
  q122: { t: "If x = 0.5, then which of the following has the smallest value?", o: ["1/x", "2x", "(x+1)/(x-1)", "x¬≤"] },
  q123: { t: "Find x, if (x-1)/(2+x) = 1/3", o: ["4", "5", "6", "7"] },
  q124: { t: "A man reads 3/8 of a book on a day and 4/5 of the remainder on the second day. If the unread part is 40, then how many pages does the book have?", o: ["160", "200", "240", "320"] },
  q125: { t: "1 L of water is added to 5 L of alcohol and water solution containing 40% alcohol strength. What will be the strength of alcohol in the new solution?", o: ["31 1/3 %", "30%", "33 1/3 %", "33%"] },
  q126: { t: "If the ratio of the sides of a triangle is 3 : 4 : 5, find the area of the triangle whose perimeter is 24 cm.", o: ["6 sq cm", "12 sq cm", "24 sq cm", "36 sq cm"] },
  q127: { t: "What is the LCM of 12, 18 and 24?", o: ["36", "48", "72", "144"] },
  q128: { t: "The sum of the angles of a triangle is", o: ["90¬∞", "180¬∞", "270¬∞", "360¬∞"] },
  q129: { t: "If 5x ‚àí 7 = 18, find the value of x.", o: ["3", "4", "5", "6"] },
  q130: { t: "Find the square root of 2025.", o: ["35", "40", "45", "50"] },
  q131: { t: "The HCF of two numbers is 12 and their LCM is 180. Find the product of the two numbers.", o: ["2160", "2400", "3600", "5400"] },
  q132: { t: "What is the value of (3¬≤ + 4¬≤)?", o: ["12", "20", "25", "49"] },
  q133: { t: "If the radius of a circle is 7 cm, find its diameter.", o: ["7 cm", "14 cm", "21 cm", "28 cm"] },
  q134: { t: "What is 25% of 200?", o: ["25", "40", "50", "75"] },
  q135: { t: "Find the next term: 1, 4, 9, 16, ?", o: ["20", "25", "30", "36"] },
  q136: { t: "Convert 0.75 into a fraction.", o: ["1/2", "2/3", "3/4", "4/5"] },
  q137: { t: "If a = 5 and b = 3, find the value of (a¬≤ ‚àí b¬≤).", o: ["10", "16", "25", "34"] },
  q138: { t: "The perimeter of a rectangle is 60 cm. If its length is 20 cm, find its breadth.", o: ["10 cm", "15 cm", "20 cm", "25 cm"] },
  q139: { t: "Find the value of 7¬≥.", o: ["343", "240", "216", "512"] },
  q140: { t: "If the selling price of an article is ‚Çπ 480 and the profit is 20%, find the cost price.", o: ["‚Çπ 360", "‚Çπ 400", "‚Çπ 420", "‚Çπ 450"] },
  q141: { t: "How many degrees are there in a straight angle?", o: ["90¬∞", "180¬∞", "270¬∞", "360¬∞"] },
  q142: { t: "If 12 men can do a work in 10 days, how many days will 6 men take?", o: ["15 days", "20 days", "25 days", "30 days"] },
  q143: { t: "Find the mean of first 10 natural numbers.", o: ["5", "5.5", "6", "6.5"] },
  q144: { t: "What is the value of œÄ (pi) approximately?", o: ["3.12", "3.14", "3.16", "3.18"] },
  q145: { t: "If the base of a triangle is 10 cm and height is 6 cm, find its area.", o: ["30 sq cm", "60 sq cm", "90 sq cm", "120 sq cm"] },
  q146: { t: "Find the value of 9¬≤ ‚àí 4¬≤.", o: ["65", "81", "45", "17"] },
  q147: { t: "What is the cube root of 512?", o: ["6", "7", "8", "9"] },
  q148: { t: "If the cost price of 10 articles is equal to the selling price of 8 articles, find the gain percent.", o: ["20%", "25%", "30%", "40%"] },
  q149: { t: "Find the value of (1/2 + 1/3).", o: ["2/5", "5/6", "3/4", "4/5"] },
  q150: { t: "If the value of x is 2, find the value of (x¬≥ ‚àí x).", o: ["4", "6", "8", "10"] }

};



/* ================= STATE ================= */
let questions = [];
let state = {
  currentQ: 1,
  answers: {}, 
  review: {},  
  name: "",
  timer: 7200, 
  examActive: false
};
let timerInterval;

/* ================= INITIALIZATION ================= */
function initQuestions() {
  questions = [];
  for(let i=1; i<=150; i++) {
    let id = "q"+i;
    let data = specificQuestions[id];
    questions.push({
      id: id,
      num: i,
      text: data ? data.t : `Question ${i}: Standard problem solving.`,
      options: data ? data.o : [`Option A`, `Option B`, `Option C`, `Option D`],
      section: getSection(i)
    });
  }
}

function getSection(num) {
  if(num <= 40) return "PART‚ÄìA : GENERAL ENGLISH";
  if(num <= 90) return "PART‚ÄìB : GENERAL KNOWLEDGE";
  if(num <= 120) return "PART‚ÄìC (i) : APTITUDE";
  return "PART‚ÄìC (ii) : MATHEMATICS";
}

function loadState() {
  const saved = sessionStorage.getItem('aeoExamState');
  if(saved) {
    state = JSON.parse(saved);
    if(state.examActive) {
      document.getElementById('displayCandidateName').innerText = state.name;
      document.getElementById('startScreen').classList.add('hidden');
      document.getElementById('examScreen').classList.remove('hidden');
      renderPalette();
      renderQuestion(state.currentQ);
      startTimer(true); 
      return true;
    }
  }
  return false;
}

/* ================= EXAM LOGIC ================= */
function startExam() {
  const nameInput = document.getElementById('studentName').value.trim();
  if(!nameInput) {
    showModal("Attention Required", "Please enter your full name to begin the exam.");
    return;
  }
  
  initQuestions();
  state.name = nameInput;
  state.examActive = true;
  state.currentQ = 1;
  
  saveState();
  
  document.getElementById('displayCandidateName').innerText = state.name;
  document.getElementById('startScreen').classList.add('hidden');
  document.getElementById('examScreen').classList.remove('hidden');
  
  renderPalette();
  renderQuestion(1);
  startTimer(false);
}

function startTimer(resume) {
  if(timerInterval) clearInterval(timerInterval);
  
  timerInterval = setInterval(() => {
    if(state.timer <= 0) {
      submitExam();
    }
    state.timer--;
    updateTimerDisplay();
    if(state.timer % 5 === 0) saveState(); 
  }, 1000);
  updateTimerDisplay();
}

function updateTimerDisplay() {
  const m = Math.floor(state.timer / 60);
  const s = state.timer % 60;
  const display = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
  const el = document.getElementById('timerDisplay');
  el.innerText = display;
  
  el.classList.remove('warning', 'danger');
  if(state.timer < 300) el.classList.add('danger');
  else if(state.timer < 600) el.classList.add('warning');
}

function saveState() {
  if(state.examActive) sessionStorage.setItem('aeoExamState', JSON.stringify(state));
}

function renderPalette() {
  const grid = document.getElementById('paletteGrid');
  grid.innerHTML = '';
  questions.forEach(q => {
    const btn = document.createElement('div');
    btn.className = 'p-btn';
    btn.innerText = q.num;
    if(q.num === state.currentQ) btn.classList.add('current');
    if(state.answers[q.id]) btn.classList.add('answered');
    if(state.review[q.id]) btn.classList.add('review');
    
    btn.onclick = () => {
      renderQuestion(q.num);
    };
    grid.appendChild(btn);
  });
}

function renderQuestion(qNum) {
  state.currentQ = qNum;
  saveState();
  
  const q = questions[qNum - 1];
  
  document.getElementById('sectionTitle').innerText = q.section;
  
  document.getElementById('questionText').innerHTML = `<b>Q${q.num}.</b> ${q.text}`;
  
  const container = document.getElementById('optionsContainer');
  container.innerHTML = '';
  
  q.options.forEach((optText, idx) => {
    const letter = String.fromCharCode(65 + idx); 
    const isSelected = state.answers[q.id] === letter;
    
    const div = document.createElement('div');
    div.className = `option-item ${isSelected ? 'selected' : ''}`;
    div.onclick = () => selectOption(q.id, letter);
    
    div.innerHTML = `
      <input type="radio" name="${q.id}" value="${letter}" ${isSelected ? 'checked' : ''}>
      <span>${optText}</span>
    `;
    container.appendChild(div);
  });
  
  document.getElementById('markReview').checked = !!state.review[q.id];
  renderPalette();
  
  document.getElementById('btnPrev').disabled = qNum === 1;
  document.getElementById('btnNext').disabled = qNum === 150;
}

function selectOption(qId, val) {
  state.answers[qId] = val;
  renderQuestion(state.currentQ);
  saveState();
}

function toggleReview() {
  const qId = questions[state.currentQ - 1].id;
  state.review[qId] = document.getElementById('markReview').checked;
  renderPalette();
  saveState();
}

function navigate(dir) {
  const newQ = state.currentQ + dir;
  if(newQ >= 1 && newQ <= 150) {
    renderQuestion(newQ);
  }
}

/* ================= SUBMISSION & RESULTS ================= */
function submitExam() {
  clearInterval(timerInterval);
  state.examActive = false;
  sessionStorage.removeItem('aeoExamState'); 
  
  document.getElementById('examScreen').classList.add('hidden');
  document.getElementById('resultsScreen').classList.remove('hidden');
  
  calculateResults();
}

function calculateResults() {
  let totalScore = 0;
  let correctCount = 0;
  let sectionStats = {
    'PART‚ÄìA : GENERAL ENGLISH': {total:40, correct:0},
    'PART‚ÄìB : GENERAL KNOWLEDGE': {total:50, correct:0},
    'PART‚ÄìC (i) : APTITUDE': {total:30, correct:0},
    'PART‚ÄìC (ii) : MATHEMATICS': {total:30, correct:0}
  };
  
  let reviewHTML = '';

  questions.forEach(q => {
    const userAns = state.answers[q.id];
    const correctAns = correctAnswers[q.id];
    const isCorrect = userAns === correctAns;
    
    if(sectionStats[q.section]) {
      if(isCorrect) sectionStats[q.section].correct++;
    }
    
    if(isCorrect) correctCount++;
    
    reviewHTML += `
      <div class="review-item ${isCorrect ? 'correct' : 'incorrect'}">
        <div class="review-header">
          <span>Q${q.num} (${q.section.split(':')[0]})</span>
          <span style="color: ${isCorrect ? 'var(--success)' : 'var(--danger)'}">
            ${isCorrect ? 'Correct' : 'Incorrect'}
          </span>
        </div>
        <div>${q.text}</div>
        <div style="margin-top:8px; font-size:0.9rem; color:#555;">
          <b>Your Answer:</b> ${userAns || 'Not Answered'} &nbsp;|&nbsp; 
          <b>Correct Answer:</b> ${correctAns}
        </div>
      </div>
    `;
  });

  const percent = ((correctCount/150)*100).toFixed(1);
  document.getElementById('finalScoreCircle').innerText = percent;
  document.getElementById('resultMsg').innerText = `You scored ${correctCount} out of 150 questions.`;
  document.getElementById('reviewListContainer').innerHTML = reviewHTML;

  const analyticsDiv = document.getElementById('analyticsGrid');
  analyticsDiv.innerHTML = '';
  
  for(let [secName, data] of Object.entries(sectionStats)) {
    const perc = ((data.correct / data.total)*100).toFixed(0);
    analyticsDiv.innerHTML += `
      <div class="stat-card" style="border-color: ${getColor(perc)}">
        <h3>${secName}</h3>
        <div class="value">${data.correct} / ${data.total}</div>
        <div style="background:#eee; height:6px; border-radius:3px; margin-top:15px; overflow:hidden;">
          <div style="width:${perc}%; background:${getColor(perc)}; height:100%; transition: width 1s ease-out;"></div>
        </div>
        <div style="font-size:0.8rem; color:#666; margin-top:8px; font-weight:600;">${perc}% Accuracy</div>
      </div>
    `;
  }

  // FIXED: Passing correctCount variable instead of undefined correctScore
  generateHistory(correctCount);
  fireConfetti();
}

function getColor(perc) {
  if(perc >= 80) return 'var(--success)';
  if(perc >= 50) return 'var(--warning)';
  return 'var(--danger)';
}

/* ================= HISTORY LOGIC ================= */
function generateHistory(currentScore) {
  let history = JSON.parse(localStorage.getItem('aeoExamHistory')) || [];
  
  // Safety check: Ensure name is present
  const studentName = state.name || "Unknown Student";
  
  // ADD TIMESTAMP AND SAVE
  history.push({
    name: studentName,
    score: currentScore,
    isUser: true,
    timestamp: Date.now() // Captures current time in milliseconds
  });
  
  history.sort((a, b) => b.score - a.score);
  
  localStorage.setItem('aeoExamHistory', JSON.stringify(history));
  
  renderHistoryTable(history);
}

/* Separated rendering logic for reuse */
function renderHistoryTable(history) {
  const tbody = document.getElementById('historyTableBody');
  tbody.innerHTML = '';
  
  if(history.length === 0) {
      tbody.innerHTML = '<tr><td colspan="5" style="text-align:center; padding:20px;">No exams taken yet.</td></tr>';
  } else {
      history.forEach((h, index) => {
        const tr = document.createElement('tr');
        if(h.isUser) tr.classList.add('current-user-row');
        
        // Format Date & Time
        const dateObj = h.timestamp ? new Date(h.timestamp) : null;
        const dateStr = dateObj ? dateObj.toLocaleString() : 'N/A';
        
        tr.innerHTML = `
          <td data-label="Rank">${index + 1}</td>
          <td data-label="Name">${h.name}</td>
          <td data-label="Score">${h.score} / 150</td>
          <td data-label="Date & Time" style="font-size:0.9rem; color:#555; white-space:nowrap;">${dateStr}</td>
          <td data-label="Status"><span style="color:${h.score >= 90 ? 'green' : 'orange'}">${h.score >= 90 ? 'Qualified' : 'Needs Improvement'}</span></td>
        `;
        tbody.appendChild(tr);
      });
  }
}

/* ================= PASSWORD PROTECTION LOGIC ================= */
function initiateClearHistory() {
  // Show password modal
  document.getElementById('passwordModal').classList.remove('hidden');
  document.getElementById('adminPasswordInput').value = ''; // Clear input
  document.getElementById('adminPasswordInput').focus();
}

function closePasswordModal() {
  document.getElementById('passwordModal').classList.add('hidden');
}

function handleEnter(event) {
  if (event.key === "Enter") {
    checkPassword();
  }
}

function checkPassword() {
  const inputPass = document.getElementById('adminPasswordInput').value;
  
  if(inputPass === ADMIN_PASSWORD) {
    // Password Correct
    localStorage.removeItem('aeoExamHistory');
    closePasswordModal();
    
    // Update UI
    const tbody = document.getElementById('historyTableBody');
    tbody.innerHTML = '<tr><td colspan="5" style="text-align:center; padding: 20px; color: var(--success); font-weight:600;">History Cleared Successfully.</td></tr>';
    
    // Show success modal
    showModal("Deleted", "All exam records have been removed.");
  } else {
    // Password Incorrect
    showModal("Access Denied", "Incorrect password. Only the host can clear the history.");
    document.getElementById('adminPasswordInput').value = '';
    document.getElementById('adminPasswordInput').focus();
  }
}

/* UPGRADE 2: CONFETTI FUNCTION */
function fireConfetti() {
  if (typeof confetti === 'function') {
    const duration = 3000;
    const end = Date.now() + duration;

    (function frame() {
      confetti({
        particleCount: 5,
        angle: 60,
        spread: 55,
        origin: { x: 0 },
        colors: ['#4f46e5', '#10b981', '#f59e0b']
      });
      confetti({
        particleCount: 5,
        angle: 120,
        spread: 55,
        origin: { x: 1 },
        colors: ['#4f46e5', '#10b981', '#f59e0b']
      });

      if (Date.now() < end) {
        requestAnimationFrame(frame);
      }
    }());
  }
}

/* UPGRADE 3: CUSTOM ALERT MODAL LOGIC */
function showModal(title, message) {
  document.getElementById('modalTitle').innerText = title;
  document.getElementById('modalMessage').innerText = message;
  document.getElementById('customModal').classList.remove('hidden');
}

function closeModal() {
  document.getElementById('customModal').classList.add('hidden');
}

window.onload = () => {
  if(!loadState()) {
    // Fresh start
  }
};
</script>
</body>
</html>